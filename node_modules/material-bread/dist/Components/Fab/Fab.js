var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.Fab=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _react=_interopRequireWildcard(require("react"));var _propTypes=_interopRequireDefault(require("prop-types"));var _reactNative=require("react-native");var _withTheme=_interopRequireDefault(require("../../Theme/withTheme"));var _Icon=_interopRequireDefault(require("../Icon/Icon.js"));var _Ripple=_interopRequireDefault(require("../Ripple/Ripple.js"));var _BodyText=_interopRequireDefault(require("../Typography/BodyText/BodyText.js"));var _shadow=_interopRequireDefault(require("../../Utils/Shadow/shadow.js"));var _Fab=_interopRequireDefault(require("./Fab.styles"));var _jsxFileName="/Users/cody/projects/material-bread/src/Components/Fab/Fab.js";var Fab=function(_Component){(0,_inherits2.default)(Fab,_Component);function Fab(props){var _this;(0,_classCallCheck2.default)(this,Fab);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Fab).call(this,props));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"state",{scale:new _reactNative.Animated.Value(0)});return _this;}(0,_createClass2.default)(Fab,[{key:"componentDidMount",value:function componentDidMount(){var _this$props=this.props,visible=_this$props.visible,animated=_this$props.animated;if(visible&&animated){this._animate();}else if(visible){this.setState({scale:new _reactNative.Animated.Value(1)});}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this$props2=this.props,visible=_this$props2.visible,animated=_this$props2.animated;if(visible!=prevProps.visible&&animated){this._animate();}}},{key:"_animate",value:function _animate(){var visible=this.props.visible;var scale=this.state.scale;var scaleValue=visible?1:0;_reactNative.Animated.spring(scale,{toValue:scaleValue,speed:7,useNativeDriver:true}).start();}},{key:"_renderContent",value:function _renderContent(){var _this$props3=this.props,icon=_this$props3.icon,label=_this$props3.label;return _react.default.createElement(_react.Fragment,{__source:{fileName:_jsxFileName,lineNumber:80}},icon?this._renderIcon():null,label?this._renderLabel():null);}},{key:"_renderLabel",value:function _renderLabel(){var _this$props4=this.props,label=_this$props4.label,disabled=_this$props4.disabled;return _react.default.createElement(_BodyText.default,{text:label,style:{color:disabled?'rgba(0, 0, 0, 0.26)':'white',fontSize:14,marginLeft:8},__source:{fileName:_jsxFileName,lineNumber:91}});}},{key:"_renderIcon",value:function _renderIcon(){var _this$props5=this.props,disabled=_this$props5.disabled,icon=_this$props5.icon;var color=disabled?'rgba(0, 0, 0, 0.26)':'white';if(typeof icon=='string'||icon instanceof String||!icon){return _react.default.createElement(_Icon.default,{name:icon?icon:'add',size:24,color:color,__source:{fileName:_jsxFileName,lineNumber:108}});}else{return _react.default.cloneElement(icon,{size:icon.props.size?icon.props.size:24,color:icon.props.color?icon.props.color:color});}}},{key:"render",value:function render(){var _this$props6=this.props,style=_this$props6.style,backgroundColor=_this$props6.backgroundColor,onPress=_this$props6.onPress,disabled=_this$props6.disabled,rippleColor=_this$props6.rippleColor,shadow=_this$props6.shadow,mini=_this$props6.mini,theme=_this$props6.theme,children=_this$props6.children,label=_this$props6.label,testID=_this$props6.testID,containerStyle=_this$props6.containerStyle,props=(0,_objectWithoutProperties2.default)(_this$props6,["style","backgroundColor","onPress","disabled","rippleColor","shadow","mini","theme","children","label","testID","containerStyle"]);var scale=this.state.scale;var backgroundColorApplied=backgroundColor?backgroundColor:theme.primary.main;if(disabled)backgroundColorApplied='rgba(0, 0, 0, 0.12)';var size=mini?40:56;var width=size;if(label){size=48;width='auto';}return _react.default.createElement(_reactNative.Animated.View,{useNativeDriver:true,style:[{transform:[{scale:scale}],elevation:100,zIndex:100},containerStyle],testID:testID,__source:{fileName:_jsxFileName,lineNumber:149}},_react.default.createElement(_Ripple.default,(0,_extends2.default)({onPress:onPress,disabled:disabled,rippleColor:rippleColor?rippleColor:'rgba(0,0,0,.8)',rippleContainerBorderRadius:100,style:[_Fab.default.button,{minHeight:size,minWidth:width,height:size,width:width,paddingHorizontal:label?12:0,backgroundColor:backgroundColorApplied},(0,_shadow.default)(disabled?0:shadow||6),style]},props,{__source:{fileName:_jsxFileName,lineNumber:160}}),children?children:this._renderContent()));}}]);return Fab;}(_react.Component);exports.Fab=Fab;(0,_defineProperty2.default)(Fab,"propTypes",{style:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.object]),backgroundColor:_propTypes.default.string,onPress:_propTypes.default.func,disabled:_propTypes.default.bool,rippleColor:_propTypes.default.string,icon:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.node]),shadow:_propTypes.default.number,mini:_propTypes.default.bool,theme:_propTypes.default.object,children:_propTypes.default.node,visible:_propTypes.default.bool,initialScale:_propTypes.default.number,animated:_propTypes.default.bool,label:_propTypes.default.string,testID:_propTypes.default.string,containerStyle:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.object])});(0,_defineProperty2.default)(Fab,"defaultProps",{visible:true,icon:'add'});var _default=(0,_withTheme.default)(Fab);exports.default=_default;